## 【重温经典】 完全平方数





### 方法1：BFS

```java
public int numSquares(int n) {
    Queue<Integer> q = new LinkedList<>();
    Set<Integer> vis = new HashSet<>();
    q.offer(0);
    vis.add(0);
    int level = 0;
    while (!q.isEmpty()) {
        int size = q.size();
        level++;
        while (size-- > 0) {
            int cur = q.poll();
            for (int i = 1; i * i <= n; i++) {
                int next = cur + i * i;
                if (next == n) return level;
                if (next > n) break;
                if (!vis.contains(next)) {
                    vis.add(next);
                    q.offer(next);
                }
            }
        }
    }
    return level;
}
```









```java
public int numSquares(int n) {
    Queue<Integer> q = new LinkedList<>();
    Set<Integer> vis = new HashSet<>();
    q.offer(n);
    int level = 0;
    while (!q.isEmpty()) {
        int size = q.size();
        while (size-- > 0) {
            int cur = q.poll();
            if (cur == 0) return level;
            for (int i = 1; i * i <= n; i++) {
                int next = cur - i * i;
                if (!vis.contains(next)) {
                    vis.add(next);
                    q.offer(next);
                }
            }
        }
        level++;
    }
    return level;
}
```







### 方法2：DP



```java
   public int numSquares(int n) {
            int[] f = new int[n + 1];
            int INF = Integer.MAX_VALUE >> 1;
            Arrays.fill(f, INF);
            f[0] = 0;
            for (int i = 1; i <= n; i++) {
                for (int j = 1; j * j <= i; j++) {
                    f[i] = Math.min(f[i], f[i - j * j] + 1);
                }
            }
            return f[n];
        }
```



