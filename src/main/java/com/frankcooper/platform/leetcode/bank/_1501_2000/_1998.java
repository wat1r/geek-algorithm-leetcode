package com.frankcooper.platform.leetcode.bank._1501_2000;

import org.junit.Assert;

import java.util.Arrays;

/*import java.util.*;
import org.junit.Assert;*/
public class _1998 {

    static class _1st {
        public static void main(String[] args) {
            _1st handler = new _1st();
//            Assert.assertTrue(handler.gcdSort(new int[]{7, 21, 3}));
            Assert.assertTrue(handler.gcdSort(new int[]{3865, 3092, 1546, 3092, 3865, 3092, 4638, 3865, 2319, 1546, 3092, 4638, 3092, 2319, 2319, 4638, 3092, 4638, 2319, 773, 773, 3092, 773, 773, 4638, 3865, 3865, 3092, 2319, 773, 3865, 3865, 1546, 3865, 3865, 4638, 1546, 4638, 4638, 773, 773, 1546, 4638, 2319, 4638, 1546, 3092, 1546, 1546, 4638, 773, 773, 1546, 1546, 3092, 1546, 773, 773, 2319, 1546, 4638, 3865, 3092, 773, 3865, 3865, 3865, 3092, 3092, 4638, 1546, 3092, 3865, 1546, 3092, 3092, 3865, 3092, 3092, 773, 3092, 1546, 3865, 4638, 1546, 773, 4638, 3092, 3865, 2319, 4638, 3865, 3865, 2319, 1546, 4638, 773, 3865, 4638, 3092, 4638, 4638, 773, 4638, 1546, 3865, 1546, 3092, 3865, 1546, 3092, 3865, 3865, 3865, 3865, 1546, 3865, 3092, 1546, 4638, 3092, 1546, 773, 3092, 1546, 4638, 773, 2319, 3092, 773, 3865, 1546, 4638, 773, 3092, 3092, 773, 773, 3865, 4638, 2319, 2319, 1546, 3092, 3092, 1546, 3092, 3865, 2319, 3865, 3865, 3092, 2319, 1546, 3092, 3092, 1546, 2319, 773, 3092, 2319, 3865, 3865, 2319, 3092, 1546, 1546, 3092, 2319, 2319, 1546, 1546, 773, 773, 773, 2319, 2319, 773, 2319, 1546, 773, 3092, 3865, 3865, 2319, 3865, 1546, 4638, 3865, 3092, 1546, 4638, 1546, 3865, 3865, 4638, 773, 4638, 3865, 4638, 1546, 1546, 2319, 2319, 2319, 3865, 3092, 773, 4638, 1546, 3865, 3865, 1546, 773, 4638, 2319, 1546, 1546, 3092, 3092, 3865, 4638, 1546, 773, 3092, 4638, 4638, 773, 773, 1546, 2319, 1546, 4638, 4638, 3092, 4638, 773, 3865, 2319, 2319, 2319, 4638, 773, 3865, 2319, 3092, 3092, 2319, 3092, 2319, 3865, 2319, 773, 3092, 4638, 773, 773, 3092, 4638, 3092, 4638, 3092, 773, 2319, 1546, 1546, 3092, 3092, 2319, 3865, 3092, 2319, 3865, 3865, 4638, 773, 1546, 3092, 3865, 773, 2319, 3865, 2319, 3865, 2319, 2319, 3865, 4638, 2319, 3865, 1546, 2319, 4638, 4638, 1546, 4638, 3092, 3092, 3092, 773, 4638, 2319, 3092, 3092, 2319, 3865, 773, 2319, 1546, 773, 3092, 773, 3865, 773, 3092, 773, 1546, 3092, 3865, 3092, 2319, 2319, 3092, 3092, 773, 4638, 773, 4638, 3865, 3092, 3865, 3865, 4638, 2319, 773, 2319, 3092, 1546, 4638, 1546, 3865, 3865, 2319, 2319, 3865, 773, 2319, 3092, 3865, 2319, 4638, 3865, 773, 3865, 3865, 3092, 1546, 2319, 773, 3865, 2319, 2319, 1546, 3092, 4638, 2319, 773, 2319, 773, 3865, 773, 3092, 773, 3092, 2319, 773, 773, 3865, 3092, 1546, 2319, 2319, 773, 3092, 2319, 4638, 3092, 2319, 4638, 3865, 3865, 773, 1546, 2319, 3092, 2319, 3092, 1546, 2319, 4638, 1546, 3092, 1546, 3865, 2319, 773, 3865, 3092, 773, 1546, 3865, 1546, 773, 1546, 1546, 2319, 2319, 773, 1546, 4638, 3865, 773, 3092, 1546, 3092, 4638, 4638, 4638, 3092, 3865, 773, 1546, 2319, 3092, 3865, 3092, 1546, 3092, 1546, 2319, 773, 773, 773, 2319, 3092, 3865, 1546, 3092, 1546, 1546, 2319, 1546, 1546, 3092, 773, 4638, 3865, 3865, 3865, 4638, 4638, 3865, 1546, 4638, 4638, 4638, 3092, 2319, 3092, 2319, 773, 1546, 4638, 1546, 4638, 1546, 2319, 2319, 3092, 3865, 3092, 3092, 3092, 3865, 3092, 773, 773, 1546, 3865, 3092, 3092, 2319, 4638, 3865, 4638, 2319, 1546, 3865, 773, 4638, 3865, 4638, 3092, 1546, 773, 2319, 2319, 2319, 1546, 3865, 3865, 1546, 2319, 3865, 3092, 1546, 3865, 773, 1546, 3092, 773, 1546, 1546, 1546, 3092, 773, 1546, 773, 773, 4638, 3865, 1546, 3092, 4638, 773, 3092, 3865, 773, 773, 3092, 1546, 4638, 3092, 3865, 1546, 2319, 773, 1546, 1546, 1546, 1546, 4638, 1546, 4638, 4638, 3092, 1546, 2319, 1546, 1546, 4638, 1546, 2319, 1546, 3092, 2319, 3865, 2319, 1546, 2319, 1546, 2319, 2319, 1546, 3865, 4638, 2319, 2319, 4638, 3865, 3092, 2319, 773, 4638, 3865, 1546, 4638, 3865, 3865, 4638, 1546, 2319, 1546, 3865, 3865, 4638, 2319, 4638, 3092, 3092, 2319, 4638, 773, 3092, 773, 3865, 1546, 1546, 1546, 3092, 4638, 3092, 2319, 773, 2319, 773, 2319, 1546, 3092, 4638, 773, 3092, 773, 1546, 3092, 773, 3092, 773, 773, 3092, 4638, 3092, 773, 2319, 4638, 773, 3092, 2319, 3092, 1546, 773, 2319, 1546, 773, 2319, 773, 1546, 4638, 1546, 3092, 2319, 2319, 3092, 2319, 3092, 2319, 773, 3865, 2319, 4638, 1546, 2319, 1546, 1546, 773, 3865, 3092, 773, 773, 3092, 3865, 4638, 4638, 3092, 3865, 3865, 3092, 3865, 4638, 4638, 3092, 4638, 3092, 3865, 773, 3865, 773, 4638, 773, 3865, 2319, 3865, 2319, 2319, 2319, 1546, 3092, 1546, 2319, 1546, 3865, 3092, 3092, 1546, 1546, 4638, 2319, 3092, 4638, 4638, 4638, 3865, 1546, 3865, 3092, 4638, 1546, 773, 773, 2319, 773, 2319, 3092, 4638, 1546, 3865, 4638, 773, 4638, 3865, 1546, 2319, 2319, 773, 3865, 3865, 3865, 4638, 3092, 4638, 1546, 3865, 773, 2319, 4638, 4638, 1546, 3092, 2319, 3092, 2319, 1546, 3865, 1546, 3865, 773, 2319, 3865, 4638, 2319, 1546, 4638, 1546, 4638, 3092, 3092, 4638, 3092, 4638, 1546, 3316, 4974, 829, 2487, 4145, 829, 4145, 4974, 4974, 829, 4974, 4145, 1658, 2487, 2487, 3316, 4145, 2487, 2487, 4974, 4974, 4145, 2487, 3316, 1658, 1658, 829, 829, 4974, 3316, 4145, 2487, 4974, 4145, 1658, 3316, 3316, 4145, 2487, 3316, 4974, 4974, 2487, 1658, 3316, 4145, 1658, 4974, 2487, 829, 829, 3316, 3316, 2487, 4974, 4974, 4145, 3316, 2487, 2487, 1658, 4145, 4145, 3316, 829, 4145, 4145, 4974, 2487, 1658, 1658, 4145, 3316, 3316, 1658, 3316, 829, 4974, 4145, 1658, 2487, 4974, 1658, 4145, 4974, 4974, 4974, 3316, 4145, 2487, 4974, 3316, 2487, 4145, 4145, 4974, 3316, 2487, 829, 4974, 829, 4974, 4974, 1658, 4974, 829, 829, 4974, 2487, 1658, 829, 2487, 4974, 2487, 3316, 4145, 2487, 2487, 2487, 4145, 829, 3316, 829, 4145, 2487, 829, 3316, 4145, 4145, 4145, 3316, 829, 4974, 2487, 829, 2487, 4974, 4145, 3316, 2487, 1658, 1658, 2487, 2487, 2487, 2487, 829, 4974, 1658, 1658, 3316, 4145, 829, 829, 4974, 4974, 4145, 1658, 4974, 3316, 1658, 2487, 4145, 4145, 829, 1658, 829, 2487, 4974, 3316, 3316, 1658, 4974, 829, 3316, 4145, 3316, 1658, 4974, 3316, 3316, 829, 4974, 829, 3316, 4974, 1658, 3316, 4974, 4145, 2487, 1658, 2487, 4974, 4145, 1658, 3316, 1658, 4145, 4145, 829, 1658, 4974, 1658, 1658, 1658, 4974, 1658, 3316, 4145, 2487, 1658, 829, 2487, 2487, 2487, 4974, 4974, 4974, 3316, 4145, 829, 1658, 4974, 4974, 829, 4145, 2487, 2487, 3316, 829, 4974, 3316, 1658, 4145, 829, 1658, 2487, 829, 1658, 4145, 4145, 829, 829, 4145, 1658, 1658, 2487, 3316, 2487, 2487, 2487, 4974, 3316, 1658, 1658, 4145, 4974, 1658, 3316, 829, 3316, 829, 3316, 3316, 3316, 4145, 1658, 2487, 1658, 829, 3316, 3316, 1658, 4145, 4145, 2487, 3316, 2487, 3316, 829, 1658, 1658, 3316, 3316, 1658, 829, 829, 4974, 4974, 3316, 2487, 829, 2487, 1658, 1658, 3316, 2487, 1658, 829, 2487, 4974, 829, 4145, 2487, 829, 4974, 2487, 829, 3316, 3316, 4145, 1658, 4145, 4145, 4974, 4974, 4145, 4974, 3316, 4974, 4145, 1658, 4145, 829, 3316, 4145, 3316, 4145, 4974, 1658, 829, 2487, 1658, 4974, 4974, 2487, 829, 2487, 3316, 3316, 4974, 829, 3316, 1658, 2487, 4145, 2487, 1658, 4974, 4145, 3316, 829, 4974, 829, 1658, 4145, 4145, 4974, 4145, 4145, 2487, 4145, 829, 4145, 1658, 829, 4145, 4145, 1658, 2487, 829, 1658, 3316, 829, 4145, 3316, 3316, 4145, 2487, 2487, 4145, 2487, 4974, 829, 1658, 829, 4145, 4145, 1658, 4145, 4145, 4145, 3316, 4974, 4145, 3316, 1658, 829, 4974, 4974, 1658, 4974, 3316, 4974, 2487, 829, 829, 4145, 2487, 1658, 4145, 1658, 4145, 4974, 4145, 3316, 829, 2487, 829, 4145, 4974, 4145, 4974, 1658, 4145, 829, 829, 4974, 1658, 829, 4145, 3316, 1658, 2487, 2487, 3316, 2487, 3316, 829, 1658, 2487, 4145, 1658, 3316, 829, 4145, 829, 1658, 4974, 3316, 2487, 1658, 4974, 4145, 1658, 1658, 2487, 2487, 1658, 4145, 3316, 1658, 3316, 4974, 3316, 3316, 3316, 998, 1996, 4491, 4990, 3992, 998, 4990, 2495, 2994, 2994, 1497, 1996, 4990, 3992, 1996, 4990, 499, 3493, 4491, 3493, 4990, 1497, 3992, 1497, 1996, 1497, 1996, 4491, 1996, 1996, 998, 4990, 998, 998, 4990, 998, 499, 4990, 1497, 998, 2495, 4491, 3992, 3992, 499, 4990, 2994, 3992, 998, 1996, 2994, 3493, 2495, 4491, 1996, 4491, 3992, 499, 3992, 2994, 998, 2994, 2495, 2994, 3493, 499, 2495, 4491, 1996, 998, 2495, 998, 3493, 1497, 998, 2495, 499, 499, 1497, 499, 3992, 4990, 3493, 998, 4491, 4491, 4990, 4990, 4990, 1497, 4990, 499, 4990, 1996, 3992, 4491, 3493, 499, 3992, 3992, 499, 499, 4990, 2495, 1497, 3992, 3493, 2495, 2495, 2495, 4990, 499, 3493, 3493, 4990, 1497, 3992, 2495, 4491, 4491, 2495, 998, 3493, 2994, 2994, 2994, 3992, 499, 1996, 2994, 1497, 2495, 2994, 499, 2994, 4491, 2495, 1497, 2495, 2495, 3493, 998, 3992, 998, 499, 1996, 4491, 998, 4990, 499, 3493, 4491, 3493, 499, 2495, 2994, 2495, 1497, 4491, 3493, 1996, 1497, 1497, 3493, 2495, 3992, 4491, 4990, 499, 998, 3992, 3493, 1996, 4491, 2495, 3992, 998, 998, 499, 3493, 3493, 2994, 998, 499, 998, 499, 1497, 1497, 1497, 2994, 4990, 3493, 1497, 2495, 3992, 4491, 2994, 2495, 2994, 4491, 998, 3493, 3493, 3493, 998, 2994, 3992, 1996, 4990, 499, 4990, 998, 998, 2495, 2495, 3992, 3493, 2495, 998, 2495, 1996, 4491, 1497, 2495, 3493, 998, 4491, 1497, 4491, 998, 998, 998, 3493, 2994, 499, 3992, 2495, 2495, 499, 3992, 3992, 4990, 1497, 4491, 2994, 2994, 998, 998, 3992, 998, 4990, 3992, 998, 1497, 2994, 1996, 3992, 3493, 1497, 499, 998, 4491, 3493, 4491, 3493, 1497, 499, 2495, 3992, 998, 1497, 1996, 2994, 4491, 2495, 3493, 2495, 4990, 2994, 3992, 4990, 2495, 1996, 3992, 499, 499, 998, 4491, 4990, 998, 2495, 3493, 3992, 1497, 4491, 3992, 998, 3992, 499, 2994, 1996, 1996, 3493, 3992, 4990, 2994, 1996, 4990, 1996, 3493, 2495, 4990, 2994, 2994, 2495, 3992, 1996, 1497, 4491, 998, 1996, 1996, 499, 998, 499, 2994, 4491, 2994, 3992, 4491, 1996, 4491, 2495, 2495, 2994, 4491, 1497, 499, 4491, 998, 2495, 1996, 2495, 3992, 4990, 1996, 2994, 3992, 2994, 499, 2994, 998, 4491, 2495, 1996, 4491, 4990, 4990, 1996, 1497, 3992, 4990, 499, 2495, 4491, 2994, 2495, 2994, 1996, 1996, 3992, 3992, 2994, 2495, 1996, 2495, 998, 3493, 1996, 3493, 3992, 2495, 3992, 3992, 1996, 998, 4990, 1996, 1996, 1996, 2994, 3493, 3992, 4491, 499, 1996, 4990, 2994, 998, 4491, 4491, 4990, 4990, 2495, 3493, 3992, 4491, 1497, 998, 998, 2495, 998, 2495, 4491, 3992, 3493, 2994, 2994, 4990, 3493, 3493, 4990, 2495, 3992, 4990, 1996, 2994, 4491, 4990, 3493, 3992, 998, 3992, 3493, 998, 1996, 4491, 998, 1996, 2994, 4990, 1996, 998, 4990, 3992, 3992, 499, 1996, 1996, 3992, 499, 3992, 998, 2495, 499, 2994, 4491, 3493, 1996, 4990, 998, 998, 3992, 3992, 998, 1497, 2495, 1996, 4990, 499, 2495, 4990, 4491, 4491, 3493, 3493, 2495, 3493, 2495, 4990, 998, 2495, 4491, 4491, 1996, 3493, 4990, 998, 2495, 2994, 2495, 3992, 499, 1497, 3992, 4990, 4491, 3992, 998, 1996, 998, 1996, 1996, 4990, 4491, 2994, 1996, 4491, 499, 1996, 499, 4491, 2495, 4491, 2994, 3992, 3493, 2495, 4491, 1497, 1996, 2994, 3992, 4990, 998, 3992, 1996, 998, 3992, 4990, 1497, 1497, 998, 4491, 998, 998, 4491, 3493, 3493, 499, 499, 1497, 2994, 1497, 3992, 1497, 499, 499, 998, 1996, 499, 3992, 2994, 1497, 4491, 4491, 3992, 1497, 1996, 4491, 4491, 1996, 3992, 3493, 1996, 2495, 4491, 4491, 499, 2495, 2495, 499, 3493, 4990, 499, 4990, 4990, 1497, 4491, 4990, 2994, 4990, 1996, 1497, 1497, 2994, 1497, 4990, 3992, 3992, 4491, 4990, 998, 4990, 1497, 1996, 4491, 2994, 3493, 2495, 998, 4491, 998, 998, 1497, 4491, 3493, 3493, 998, 4990, 1497, 4990, 499, 3992, 1996, 499, 3992, 1497, 3493, 1497, 4990, 2495, 998, 2495, 2495, 2495, 2994, 2495, 3992, 998, 3992, 998, 4491, 3493, 499, 2994, 499, 3493, 499, 3992, 4990, 3493, 499, 4990, 4990, 4491, 4491, 4491, 2994, 998, 2495, 3493, 3493, 3992, 2994, 1497, 3992, 2994, 998, 1497, 4990, 2994, 4990, 1996, 2495, 2495, 4990, 4491, 499, 998, 2495, 4990, 1497, 4491, 4491, 1497, 499, 2495, 3992, 3992, 499, 3493, 1996, 1996, 1497, 998, 3493, 4990, 2495, 4491, 1996, 998, 4491, 3493, 4990, 3992, 4990, 4491, 998, 3992, 1497, 4491, 4491, 4491, 2994, 4990, 2495, 2994, 499, 4990, 1497, 3493, 1497, 998, 3992, 2495, 4491, 3493, 2495, 1996, 2495, 1497, 2495, 4491, 3992, 2495, 4990, 4990, 499, 1996, 2994, 998, 1497, 3493, 499, 499, 2495, 1996, 3493, 3992, 4491, 1497, 2994, 4491, 3992, 3992, 1996, 499, 1996, 3493, 4990, 499, 499, 998, 4974, 829, 2487, 3316, 3939, 2574, 3575, 1490}));


        }

        static int N = (int) 3e5 + 10;

        int[] p;

        public int find(int x) {
            if (x != p[x]) {
                p[x] = find(p[x]);
            }
            return p[x];
        }

        public void merge(int x, int y) {
            int px = find(x), py = find(y);
            if (px == py) {
                return;
            }
            p[px] = py;
        }


        public boolean gcdSort(int[] nums) {
            int[] nums1 = Arrays.copyOf(nums, nums.length);
            p = new int[N];
            for (int i = 1; i < N; i++) {
                p[i] = i;
            }
            for (int x : nums) {
                int k = x;
                for (int i = 2; i <= x / i; i++) {
                    boolean flag = false;
                    while (x % i == 0) {
                        x /= i;
                        flag = true;
                    }
                    if (flag) {
                        merge(k, i);
                    }
                }
                if (x > 1) {
                    merge(k, x);
                }
            }
//            for (int x : p) {
//                if (x > 5000) {
//                    break;
//                }
//                System.out.printf("%d ", x);
//            }
            Arrays.sort(nums1);
            for (int i = 0; i < nums1.length; i++) {
                if (nums1[i] == nums[i]) {
                    continue;
                }
                if (find(nums1[i]) != find(nums[i])) {
//                    i = 976
                    System.out.printf("%d,%d,%d,%d,%d", i, nums1[i], find(nums1[i]), nums[i], find(nums[i]));
                    return false;
                }
            }
            return true;
        }

    }

    static class _2nd {
        public static void main(String[] args) {
            _2nd handler = new _2nd();
        }
    }


    static class _3rd {
        public static void main(String[] args) {
            _3rd handler = new _3rd();
        }
    }

    static class _4th {
        public static void main(String[] args) {
            _4th handler = new _4th();
        }
    }
}
